$about-card-bg: #252424;
$about-card-size: 300px;
$about-card-count: 10;
$about-card-padding: 20px;
$about-card-column-count: 3;
// z-index
$about-card-info-z: 0;
$about-card-thumbnail-z: 1;
// L&R padding for the container. Used to center the content manually
$about-container-padding: (($screen-md-min - ($about-card-size * $about-card-column-count)) / 2);

.about {
  min-height: 100vh;
  width: 100%;
  padding-top: $handle-padding;
  padding-bottom: $handle-padding;

  // The scrolling container.
  // Makes it scrollable.
  .about__container {
    @include g-container;
    padding: 0;
    width: 100%;
    height: $about-card-size;
    overflow-x: scroll;
    overflow-y: hidden;

    @include media($screen) {
      overflow-x: auto;
      height: auto;
      // Unfortunately, I can't think of a good non-hackish way to center
      // the children elements (which are `ul` elements)
      // inside this container element (this class), so we will have to manually
      // compute to center the content.
      //
      // Since 420px is the minimum screen size we handle, and
      // the size of each card is 300-square, we can manually compute the padding
      // to center each column (each `ul` element) inside the container restrictions.
      padding-left: $about-container-padding;
      padding-right: $about-container-padding;
    }
  }

  // Contains the float, and lines each horizontally
  .about__container > .about__container__inner {
    @include clearfix;
    width: $about-card-count * $about-card-size;
    height: $about-card-size;

    @include media($tablet) {
      width: 100%;
      height: auto;
    }
  }

  // This is a `ul`
  .about__card-container {
    @include remove-list-defaults;
    float: left;

    @include media($tablet) {
      &.about__card-container--half { margin-top: ($about-card-size / 2); }
      &.about__card-container--full { margin-top: $about-card-size; }
    }
  }

  // This is an `li`
  .about__card {
    // The hides the card thumbnail when it slides to the left on hover (for screens).
    overflow: hidden;
    position: relative;
    float: left;
    width: $about-card-size;
    height: $about-card-size;
    background: $about-card-bg; // Random value atm

    @include media($tablet) { float: none; }
  }

  // Shown only for small screens
  .about__card .about__card__info {
    position: absolute;
    left: $about-card-padding;
    bottom: $about-card-padding;
    padding: $about-card-padding;
    width: ($about-card-size - ($about-card-padding * 2));
    background: rgba(0,0,0,0.5);

    @include media($tablet) {
      bottom: inherit;
      background: transparent;
      z-index: $about-card-info-z;
    }
  }

  .about__card__info > .about__card__info__heading {
    @extend h4;
    margin-top: 0;
    color: #fff;
  }

  .about__card__info > .about__card__info__date {
    @extend h6;
    margin-bottom: 0;
    font-family: $font-family-base;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: #fff;
  }

  .about__card__info > .about__card__info__more-btn {
    margin-top: 20px;
    @include btn(true);
    @include btn--variant(default, true);
    letter-spacing: 1px;
    text-transform: uppercase;
    font-size: $font-size-small;
  }

  .about__card > .about__card__thumbnail {
    position: absolute;
    top: 0;
    left: 0;
    width: $about-card-size;
    height: $about-card-size;
    transition: left 0.1s cubic-bezier(0, 0, 0.4, 1);

    @include media($screen) { z-index: $about-card-thumbnail-z; }
  }

  .about__card:hover > .about__card__thumbnail {
    @include media($screen) {
      // The amount to slide to the left when the thumb is hovered
      left: -($about-card-size - $about-card-padding);
    }
  }
}
